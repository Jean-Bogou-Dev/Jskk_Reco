<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>D√©tection Faciale</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_detection.css') }}">
    
</head>

<body>
    <div class="container">
        <h1>üì∏ D√©tection Faciale</h1>
        <p>Appuyez sur le bouton ci-dessous pour scanner et marquer la pr√©sence des √©tudiants.</p>

        <form action="{{ url_for('scanner') }}" method="post">
            <button type="submit" class="btn">Scanner</button>
        </form>

        {% if success %}
            <div class="message">‚úÖ Pr√©sence enregistr√©e avec succ√®s.</div>
        {% elif error %}
            <div class="message error">‚ùå Une erreur est survenue pendant la d√©tection.</div>
        {% endif %}

        <br><br>
    </div>
    <div class="boutton_accueil"><a href="{{ url_for('accueil') }}" alt="Accueil">‚¨Ö</a></div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
    {% if etudiant_inconnu %}
    Swal.fire({
        title: '√âtudiant inconnu',
        text: "Souhaitez-vous enregistrer un nouvel √©tudiant ?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Oui, enregistrer',
        cancelButtonText: 'Annuler'
    }).then((result) => {
        if (result.isConfirmed) {
        window.location.href = "{{ url_for('detail_etudiant') }}";
        }
    });
    {% elif presence_enregistree %}
    Swal.fire({
        title: 'Pr√©sence enregistr√©e',
        html: "<strong>{{ nom }}</strong><br>CNE : {{ cne }}<br>‚úÖ Pr√©sence enregistr√©e avec succ√®s",
        icon: 'success',
        confirmButtonText: 'OK'
    });
    {% elif presence_deja %}
    Swal.fire({
        title: 'D√©j√† enregistr√©',
        html: "<strong>{{ nom }}</strong><br>CNE : {{ cne }}<br>‚ÑπÔ∏è Pr√©sence d√©j√† enregistr√©e",
        icon: 'info',
        confirmButtonText: 'OK'
    });
    {% endif %}
    </script>

</body>
</html>
